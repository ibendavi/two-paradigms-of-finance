{% extends "base.html" %}
{% set active_page = 'timeline' %}

{% block title %}Interactive Timeline | {{ site.title }}{% endblock %}

{% block content %}
<div class="container">

  <div class="page-header">
    <h1>Timeline of Financial Thinking</h1>
    <p class="subtitle">
      300 years of primary sources â€” from Hutcheson's South Sea valuation (1720)
      to modern survey evidence. Click any dot for details.
    </p>
  </div>

  <!-- Controls -->
  <div class="timeline-controls">
    <button class="active" data-filter="all">All</button>
    <button data-filter="pre-split">Pre-Split</button>
    <button data-filter="transitional">Transitional</button>
    <button data-filter="academic">Academic</button>
    <button data-filter="practitioner">Practitioner</button>
  </div>

  <!-- Timeline canvas -->
  <div class="timeline-container" id="timeline-wrapper">
    <canvas id="timeline-canvas"></canvas>
    <div class="timeline-popup" id="timeline-popup">
      <h4 id="popup-title"></h4>
      <p id="popup-finding"></p>
      <a id="popup-link" href="#" class="popup-link">Read the evidence &rarr;</a>
    </div>
  </div>

</div>

<!-- Embed timeline data with root prefix for links -->
<script>
  window.TIMELINE_DATA = {{ timeline_data | tojson }};
  window.SITE_ROOT = {{ root | tojson }};
</script>
{% endblock %}

{% block scripts %}
<script src="{{ root }}static/js/timeline.js"></script>
{% endblock %}
